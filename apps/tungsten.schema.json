{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "http://openpfc.github.io/apps/tungsten.schema.json",
    "title": "Tungsten",
    "description": "Tungsten application",
    "type": "object",
    "properties": {
        "model": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "description": "model name",
                    "enum": [
                        "tungsten"
                    ],
                    "default": "tungsten"
                },
                "params": {
                    "type": "object",
                    "properties": {
                        "n0": {
                            "type": "number",
                            "description": "average density of the metastable fluid"
                        },
                        "alpha": {
                            "type": "number",
                            "description": "width of C2's peak"
                        },
                        "n_sol": {
                            "type": "number",
                            "description": "density of the solid"
                        },
                        "n_vap": {
                            "type": "number",
                            "description": "density of the vapor"
                        },
                        "T": {
                            "type": "number",
                            "description": "temperature of the metastable fluid (in K)"
                        },
                        "T0": {
                            "type": "number",
                            "description": "temperature of the solid (in K)"
                        },
                        "Bx": {
                            "type": "number"
                        },
                        "alpha_farTol": {
                            "type": "number",
                            "description": "how much we allow the k=1 peak to affect the k=0 value of the correlation, by changing the higher order components of the Gaussian function"
                        },
                        "alpha_highOrd": {
                            "type": "integer",
                            "description": "power of the higher order component of the gaussian function. Should be a multiple of 2. Setting this to zero also disables the tolerance setting."
                        },
                        "lambda": {
                            "type": "number",
                            "description": "strength of the meanfield filter"
                        },
                        "stabP": {
                            "type": "number",
                            "description": "numerical stability parameter for the exponential integrator method"
                        },
                        "shift_u": {
                            "type": "number",
                            "description": "vapor-model parameter"
                        },
                        "shift_s": {
                            "type": "number",
                            "description": "vapor-model parameter"
                        },
                        "p2": {
                            "type": "number",
                            "description": "vapor-model parameter"
                        },
                        "p3": {
                            "type": "number",
                            "description": "vapor-model parameter"
                        },
                        "p4": {
                            "type": "number",
                            "description": "vapor-model parameter"
                        },
                        "q20": {
                            "type": "number",
                            "description": "vapor-model parameter"
                        },
                        "q21": {
                            "type": "number",
                            "description": "vapor-model parameter"
                        },
                        "q30": {
                            "type": "number",
                            "description": "vapor-model parameter"
                        },
                        "q31": {
                            "type": "number",
                            "description": "vapor-model parameter"
                        },
                        "q40": {
                            "type": "number",
                            "description": "vapor-model parameter"
                        }
                    },
                    "required": [
                        "n0",
                        "alpha",
                        "n_sol",
                        "n_vap",
                        "T",
                        "T0",
                        "Bx",
                        "alpha_farTol",
                        "alpha_highOrd",
                        "lambda",
                        "stabP",
                        "shift_u",
                        "shift_s",
                        "p2",
                        "p3",
                        "p4",
                        "q20",
                        "q21",
                        "q30",
                        "q31",
                        "q40"
                    ]
                }
            },
            "required": [
                "name",
                "params"
            ]
        },
        "Lx": {
            "type": "integer"
        },
        "Ly": {
            "type": "integer"
        },
        "Lz": {
            "type": "integer"
        },
        "dx": {
            "type": "number"
        },
        "dy": {
            "type": "number"
        },
        "dz": {
            "type": "number"
        },
        "origo": {
            "type": "string",
            "enum": [
                "center",
                "corner"
            ]
        },
        "t0": {
            "type": "number"
        },
        "t1": {
            "type": "number"
        },
        "dt": {
            "type": "number"
        },
        "saveat": {
            "type": "number"
        },
        "fields": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "data": {
                        "type": "string"
                    }
                },
                "required": [
                    "name",
                    "data"
                ]
            }
        },
        "initial_conditions": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "target": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string"
                    },
                    "n0": {
                        "type": "number"
                    },
                    "amp_eq": {
                        "type": "number"
                    },
                    "rho_seed": {
                        "type": "number"
                    }
                },
                "required": [
                    "target",
                    "type"
                ]
            }
        },
        "boundary_conditions": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "target": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string"
                    },
                    "rho_low": {
                        "type": "number"
                    },
                    "rho_high": {
                        "type": "number"
                    }
                },
                "required": [
                    "target",
                    "type"
                ]
            }
        }
    },
    "required": [
        "model",
        "Lx",
        "Ly",
        "Lz",
        "dx",
        "dy",
        "dz",
        "origo",
        "t0",
        "t1",
        "dt",
        "saveat",
        "fields",
        "initial_conditions",
        "boundary_conditions"
    ]
}
